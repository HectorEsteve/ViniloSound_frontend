<form [formGroup]="myForm" autocomplete="off">

  <!-- Nombre -->
  <div class="row mb-1">
      <label class="col-form-label">Nombre</label>
      <div class="">
          <input type="text"
                class="form-control"
                placeholder="Nombre de usuario"
                formControlName="name">

          <span *ngIf="isValidField(this.myForm, 'name')" class="form-text text-danger">
            {{ getFieldError(this.myForm, 'name') }}
          </span>
      </div>
  </div>

  <!-- Email -->
  <div class="row mb-1">
      <label class="col-form-label">Email</label>
      <div class="">
          <input type="email"
                class="form-control"
                placeholder="Email de usuario"
                formControlName="email"
                (ngModelChange)="setupAsyncValidators()"
                >
          <span *ngIf="isValidField(this.myForm, 'email')" class="form-text text-danger">
            {{ getFieldError(this.myForm, 'email') }}
          </span>
      </div>
  </div>

  <!-- Contraseña -->
  <div class="row mb-3">
    <label class="col-form-label">Contraseña</label>
    <div class="">
        <input type="password"
              class="form-control"
              placeholder="Contraseña"
              formControlName="password">

        <span *ngIf="isValidField(this.myForm,'password')" class="form-text text-danger">
          {{ getFieldError(this.myForm, 'password') }}
        </span>
    </div>
  </div>

  <div class="mb-1">
    <div class=" d-flex justify-content-center">
        <button class="btn primary-button w-100"
                (click)="changePasswordView()"
        >
           <span *ngIf="!showPassword">Cambiar contraseña</span>
           <span *ngIf="showPassword">Cancelar cambio de contraseña</span>
        </button>
    </div>
  </div>

<!-- form contraseña-->
  <form [formGroup]="passwordForm"  autocomplete="off" *ngIf="showPassword">
    <div class="row mb-1">
      <label class="col-form-label">Nueva contraseña</label>
      <div class="">
          <input type="password"
                class="form-control"
                placeholder="Contraseña"
                formControlName="password">

          <span *ngIf="isValidField(this.passwordForm, 'password')" class="form-text text-danger">
            {{ getFieldError(this.passwordForm, 'password') }}
          </span>
      </div>
    </div>


    <div class="row mb-3">
      <label class=" col-form-label">Confirmar</label>
      <div class="">
          <input type="password"
                class="form-control"
                placeholder="Confirmar la contraseña"
                formControlName="password2">

          <span *ngIf="isValidField(this.passwordForm, 'password2')" class="form-text text-danger">
              Las contraseñas deben de ser iguales
          </span>
      </div>
    </div>
  </form>

  <!-- Botones -->
  <div class="row col">
    <div class="col-6 mb-1">
        <div class=" d-flex justify-content-center">
            <button class="btn alert-button w-100"
                    type="submit"
                    (click)="onSubmit()"
            >
                Modificar
            </button>
        </div>
    </div>
    <div class="col-6 mb-3">
      <div class=" d-flex justify-content-center">
          <button class="btn primary-button w-100"
          (click)="onCancelEdit()"
          >
              Cancelar
          </button>
      </div>
    </div>
  </div>
  <div class="row mb-3" *ngIf="formError">
    <div class="col">
      <div class="alert alert-warning text-center mx-2">
        {{ errorMessage }}
      </div>
    </div>
  </div>

</form>
